<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DJ Flask App</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}">
</head>

<body>

    <nav class="navbar justify-content-center rounded-start" >
      <img class = "dj-image" src="/static/DJ.png" height="100" width="auto">
      <h1 class="fade-in-class page-heading" >DJ Song to Setlist Generator</h1>
      <img class = "spotify-image" src="/static/spotify.png" height="130" width="auto">
    </nav>

  <br>
  <center>
    <div id = spotify-player-container ">


      <iframe class = spotify-player s src={{url}} width="60%" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; 
      fullscreen; picture-in-picture" loading="lazy"></iframe>

  <br>
<br id="line-break">
  <div>
</div>

<div id="right-song-question">
  <h5>Is this the right track?</h5>
  <div class="button-box">
    <button onclick="show_personalisation()"  value="Yes" name="yesorno" class="btn btn-dark btn-sm m-1 ">Yes</button>
  </div> 
  <div class="button-box">
  <form method="POST" action="">
    <button type="submit" value="No" name="yesorno" class="btn btn-dark btn-sm m-1 ">No</button>
  </form>
</div>
</div>
<br>

</div>

  <div id="personalisation-info-box" class="personalisation-box">
    <br>
  <form style="color: white;" method="POST">
    {{ form.hidden_tag() }}
    <table>
    <tr>
      <td>BPM: </td>
      <td>{{form.bpm_range}}</td>
       <td>KEY: </td>
       <td>{{form.key_range}}</td>
    </tr>
    <tr>
      <td>POPULARITY:</td>
      <td>{{form.popularity}}</td>
      <td >MAX YR:</td>
      <td>{{form.max_year}}</td>
    </tr>
    <tr>
    
      <td>DANCEABILITY</td>
      <td>{{form.danceability}}</td>
      <td>VOCALNESS:</td>
      <td>{{form.vocal}}</td>
    
    <tr>
      <td>ENERGY:</td>
    <td>{{form.energy}}</td>
      <td>MOOD:</td>
      <td>{{form.mood}}</td>
    </tr>
      
    </tr>
  </table>
  <button type="submit" class="btn btn-dark btn-sm m-1 ">Submit</button>
</form>
    
    
    

  </form>
  <br>
    </div>
    <br>
    <div id = 'information-box'>
      <br>
      <br>
      <table>
        <tr>
          <td >
            <h3 class = "table-data-name fade-in-class">BPM:</h3>
         </td>
          <td >
            <h3 class="table-data-value fade-in-class">{{audio_features['bpm']}}</h3>
          </td>
          <td >
            <h3 class="table-data-name fade-in-class">Key:</h3>
          </td>
          <td >
            <h3 class="table-data-value fade-in-class">{{audio_features['key']}}</h3>
          </td>
        </tr>
        <tr>
          <td >
            <h3 class="table-data-name fade-in-class">Popularity:</h3>
          </td>
          <td >
            <h3 class="table-data-value fade-in-class">{{popularity}}%</h3>
          </td>
          <td >
            <h3 class="table-data-name fade-in-class">Year:</h3>
          </td>
          <td >
            <h3 class="table-data-value fade-in-class">{{release_year}}</h3>
          </td>
        </tr>
        <tr>
          <td >
            <h3 class="table-data-name fade-in-class">Danceability:</h3>
          </td>
          <td >
            <h3 class="table-data-value fade-in-class">{{audio_features['danceability']}}%</h3>
          </td>
          <td >
            <h3 class="table-data-name fade-in-class">Vocal:</h3>
          </td>
          <td >
            <h3 class="table-data-value fade-in-class">{{audio_features['instrumentalness']}}%</h3>
          </td>
        </tr>
        <tr>
          <td >
            <h3 class="table-data-name fade-in-class">Energy:</h3>
          </td>
          <td >
            <h3 class="table-data-value fade-in-class">{{audio_features['energy']}}%</h3>
          </td>
          <td >
            <h3 class="table-data-name fade-in-class">Mood:</h3>
          </td>
          <td >
            <h3 class="table-data-value fade-in-class">{{audio_features['valence']}}%</h3>
          </td>
        </tr>
      </table>
      <br>
      <br>

    </div>

  </center>






  <script type="text/javascript" src="{{ url_for('static', filename='js/index.js') }}" type="module"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>

</body>

</html>